<div class="container my-5 mb-3">
  <h2>Current Bookings</h2>
  <% if @current_bookings.present? %>
    <% @current_bookings.each do |booking| %>
      <div class="card mb-3 mt-2 smol-card-component" style="max-width: 1140px;">
        <div class="row g-0">
          <% if booking.bookable.class == Hotel %>
            <%= image_tag(booking.bookable.image_url[0], class: "card-img-top-index col-md-4 object-fit-cover ")%>
          <% else %>
            <%= cl_image_tag(booking.bookable.photo.key, class: "card-img-top-index col-md-4 object-fit-cover ")%>
          <% end %>
          <div class="col">
            <div class=" d-flex justify-content-between align-items-center">
              <div class="card-body-left">
                <h4 class="card-title fw-semibold"><i class="fa-solid fa-hotel"></i> <%= booking.bookable.name %></h4>
                <p class="card-text lh-lg"><i class="fa-solid fa-calendar-days"></i> <%= booking.start_time.strftime("%d %b %Y") %> - <%= booking.end_time.strftime("%d %b %Y") %></p>
                <p class="card-text"><i class="fa-solid fa-calendar-check"></i></i></i> <%= "In Progress"%></p>
          </div>
        </div>
      </div>
      <div class="col flex-grow-0 d-flex flex-column-reverse">
        <div class="card-body-right align-items-end text-nowrap">
          <p class="card-text"><%= link_to "Manage your booking", "", class:"btn btn-info fw-bold" %></p>
        </div>
      </div>
    </div>
  </div>
<% end %>
<% else %>
  <p> No current bookings  </p>
<% end %>
<h2>Upcoming Bookings</h2>
<% if @future_bookings.present? %>
  <% @future_bookings.each do |booking| %>
    <div class="card mb-3 mt-2 smol-card-component" style="max-width: 1140px;">
      <div class="row g-0">
        <% if booking.bookable.class == Hotel %>
          <%= image_tag(booking.bookable.image_url[0], class: "card-img-top-index col-md-4 object-fit-cover ")%>
        <% else %>
          <%= cl_image_tag(booking.bookable.photo.key, class: "card-img-top-index col-md-4 object-fit-cover ")%>
        <% end %>
        <div class="col">
          <div class=" d-flex justify-content-between align-items-center">
            <div class="card-body-left">
              <h4 class="card-title fw-semibold"><i class="fa-solid fa-hotel"></i> <%= booking.bookable.name %></h4>
              <% if booking.bookable.class == Restaurant %>
                <p class="card-text lh-lg"><i class="fa-solid fa-utensils"></i> <%= booking.start_time.strftime("%A %B #{booking.start_time.day.ordinalize} %Y at %-l%P") %></p>
              <% else %>
                <p class="card-text lh-lg"><i class="fa-solid fa-calendar-days"></i> <%= booking.start_time.strftime("%d %b %Y") %> - <%= booking.end_time.strftime("%d %b %Y") %></p>
              <% end %>
              <p class="card-text"><i class="fa-solid fa-calendar-check"></i></i></i> <%= "Confirmed"%></p>
        </div>
      </div>
    </div>
    <div class="col flex-grow-0 d-flex flex-column-reverse">
      <div class="card-body-right align-items-end text-nowrap">
        <p class="card-text"><%= link_to "Manage your booking", "", class:"btn btn-info fw-bold" %></p>
      </div>
    </div>
  </div>
</div>
<% end %>
<% else %>
  <p> No upcoming bookings  </p>
<% end %>
<h2>Past Bookings</h2>
<% if @past_bookings.present? %>
  <% @past_bookings.each do |booking| %>
    <div class="card mb-3 mt-2 smol-card-component" style="max-width: 1140px;">
      <div class="row g-0">
        <% if booking.bookable.class == Hotel %>
          <%= image_tag(booking.bookable.image_url[0], class: "card-img-top-index col-md-4 object-fit-cover ")%>
        <% else %>
          <%= cl_image_tag(booking.bookable.photo.key, class: "card-img-top-index col-md-4 object-fit-cover ")%>
        <% end %>
        <div class="col">
          <div class=" d-flex justify-content-between align-items-center">
            <div class="card-body-left">
              <h4 class="card-title fw-semibold"><i class="fa-solid fa-hotel"></i> <%= booking.bookable.name %></h4>
              <p class="card-text lh-lg"><i class="fa-solid fa-calendar-days"></i> <%= booking.start_time.strftime("%d %b %Y") %> - <%= booking.end_time.strftime("%d %b %Y") %></p>
              <p class="card-text"><i class="fa-solid fa-circle-check"></i> Completed</p>
            </div>
          </div>
        </div>
        <div class="col flex-grow-0 d-flex flex-column-reverse">
          <div class="card-body-right align-items-end text-nowrap">
            <p class="card-text"><%= link_to "Leave a review!", "", class:"btn btn-info fw-bold" %></p>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% else %>
  <p> No previous bookings  </p>
<% end %>
</div>
